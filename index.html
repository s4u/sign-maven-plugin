<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/index.md.vm at 2022-01-07
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>Sign Maven Plugin &#x2013; Introduction</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
<script async src="https://www.simplify4u.org/common.js" type="text/javascript"></script>
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/s4u/sign-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en/sdk.js#xfbml=1&version=v6.0"></script>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Sign Maven Plugin</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li class=""><a href="../parent/index.html" title="Home">Home</a><span class="divider">/</span></li>
      <li class=""><a href="index.html" title="Sign Maven Plugin">Sign Maven Plugin</a><span class="divider">/</span></li>
    <li class="active ">Introduction</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2022-01-07</li>
          <li id="projectVersion" class="pull-right">Version: 1.0.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a href="#"><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li><a href="key-prepare.html" title="Private key preparation"><span class="none"></span>Private key preparation</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Simplify4U projects</li>
    <li><a href="../parent/index.html" title="Parent"><span class="none"></span>Parent</a></li>
    <li><a href="../jfatek/index.html" title="Fatek PLC client"><span class="none"></span>Fatek PLC client</a></li>
    <li><a href="../sitemapxml-maven-plugin/index.html" title="Sitemap generator for maven site"><span class="none"></span>Sitemap generator for maven site</a></li>
    <li><a href="../slf4j-mock/index.html" title="SLF4J mock"><span class="none"></span>SLF4J mock</a></li>
    <li><a href="../pgpverify-maven-plugin/index.html" title="Verify OpenPGP signatures"><span class="none"></span>Verify OpenPGP signatures</a></li>
    <li><a href="../sign-maven-plugin/index.html" title="Create OpenPGP signatures"><span class="none"></span>Create OpenPGP signatures</a></li>
    <li><a href="https://github.com/s4u/pgp-keys-map" class="externalLink" title="PGP keys map to artifacts"><span class="none"></span>PGP keys map to artifacts</a></li>
    <li><a href="https://github.com/marketplace/actions/setup-maven-action" class="externalLink" title="Setup Maven -&nbsp;GitHub&nbsp;Action"><span class="none"></span>Setup Maven -&nbsp;GitHub&nbsp;Action</a></li>
    <li><a href="https://github.com/marketplace/actions/maven-settings-action" class="externalLink" title="Customize Maven settings.xml -&nbsp;GitHub&nbsp;Action"><span class="none"></span>Customize Maven settings.xml -&nbsp;GitHub&nbsp;Action</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
    <div class="fb-like" style="border:none; margin-top: 10px" data-href="https://www.simplify4u.org/sign-maven-plugin" data-layout="box_count" data-show-faces="false" data-action="like" data-share="true"></div>
              <div class="clear"></div>
    <div id="twitter" style="border:none; margin-top: 10px">
    <a href="https://twitter.com/Simplify4U" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow Simplify4U</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Introduction</h1>
<p><code>Sign Maven Plugin</code> allows you to creates Open PGP / GPG signatures for all of the project&#x2019;s artifacts without any external software.</p>
<p>This plugin can replace <b>maven-gpg-plugin</b> in an easy way and provide new features.</p><section>
<h2><a name="Feature"></a>Feature</h2>
<ul>

<li>all the signing operations are done using <code>Bouncy Castle</code></li>
<li>support Maven <code>3.6</code> and is ready for next version <code>4.0</code> of Maven with <code>Consumer POM</code></li>
<li>support <code>subkey</code> for signing</li>
<li>easy to use on CI system, configuration can be provided by environment variables</li>
<li>key passphrase can be encrypted by standard Maven <a class="externalLink" href="https://maven.apache.org/guides/mini/guide-encryption.html">Password Encryption</a></li>
<li>no needed store private key on CI system - you can use key from environment variable</li>
</ul>
<h1>Usage</h1></section><section>
<h2><a name="Key_preparation"></a>Key preparation</h2>
<p>Before begin please read: <a href="./key-prepare.html">Open PGP / GPG private key preparation</a></p></section><section>
<h2><a name="Skip_execution_on_missing_key"></a>Skip execution on missing key</h2>
<p>Signing configuration in the most time is prepared for production environment. In order to simplify configuration, by default, plugin skip executions if private key was not found. Only information about missing key is displayed.</p>
<p>You can change this by setting <code>skipNoKey</code> options to <code>false</code>.</p></section><section>
<h2><a name="Key_configuration_provided_in_environment_variables"></a>Key configuration provided in environment variables</h2>
<p>Key configuration can be provided by environment variables: <code>SIGN_KEY</code>, <code>SIGN_KEY_ID</code>, <code>SIGN_KEY_PASS</code>.</p>
<p><b>NOTICE</b></p>
<ul>

<li>When using environment variables for configuration, <code>SIGN_KEY</code> - must contain private <b>key content</b> - not file path for key</li>
<li>Configuration in environment variables have always priority then another configuration, so if will be provided <b>will be used first</b></li>
</ul>
<p>Your pom configuration can be simplified to:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;plugins&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;org.simplify4u.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;sign-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;goals&gt;
                    &lt;goal&gt;sign&lt;/goal&gt;
                &lt;/goals&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
    &lt;/plugin&gt;
    ...
&lt;/plugins&gt;
</pre></div></div>
</section><section>
<h2><a name="Key_configuration_provided_in_settings.xml"></a>Key configuration provided in settings.xml</h2>
<p><b>NOTICE</b></p>
<ul>

<li>When you use <i>serverId</i> option, rest plugin configuration will be not used. <b>All data</b> for key must be provided by <code>settings.xml</code></li>
<li>Configured environment variables can overwrite information about key</li>
</ul>
<p>You can define server entry in your <code>settings.xml</code>, like:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;settings&gt;
    ...
    &lt;servers&gt;
        &lt;server&gt;
            &lt;id&gt;sign-key-id&lt;/id&gt;
            &lt;username&gt;&lt;!-- key id in hex, optional --&gt;&lt;/username&gt;
            &lt;passphrase&gt;&lt;!-- private key passphrase, can be encrypted --&gt;&lt;/passphrase&gt;
            &lt;privateKey&gt;&lt;!-- private key file location --&gt;&lt;/privateKey&gt;
        &lt;/server&gt;
    &lt;/servers&gt;
&lt;/settings&gt;
</pre></div></div>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;plugins&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;org.simplify4u.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;sign-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;goals&gt;
                    &lt;goal&gt;sign&lt;/goal&gt;
                &lt;/goals&gt;
                &lt;configuration&gt;
                    &lt;!-- the same id as in settings.xml --&gt;
                    &lt;serverId&gt;sign-key-id&lt;/serverId&gt;
                &lt;/configuration&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
    &lt;/plugin&gt;
    ...
&lt;/plugins&gt;
</pre></div></div>
</section><section>
<h2><a name="Key_configuration_provided_in_pom"></a>Key configuration provided in pom</h2>
<p><b>NOTICE</b></p>
<ul>

<li>Configured environment variables can overwrite information about key</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;plugins&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;org.simplify4u.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;sign-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;goals&gt;
                    &lt;goal&gt;sign&lt;/goal&gt;
                &lt;/goals&gt;
                &lt;configuration&gt;
                    &lt;keyId&gt;&lt;!-- key id in hex, optional --&gt;&lt;/keyId&gt;
                    &lt;keyPass&gt;&lt;!-- private key passphrase, can be encrypted --&gt;&lt;/keyPass&gt;
                    &lt;keyFile&gt;&lt;!-- private key file location --&gt;&lt;/keyFile&gt;
                &lt;/configuration&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
    &lt;/plugin&gt;
    ...
&lt;/plugins&gt;
</pre></div></div></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p class="pull-right">&#169;      2020&#x2013;2022
<a href="https://www.simplify4u.org">Simplify4U</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>